<%- include('../partial/user/userProfilePartial.ejs') %>
    
    <div class="card mb-4 mt-3">
        <form  id="addressForm" action="/add-address" method="post" name="submission" >
        <div class="card-body mt-3">
            <div >
                <p style="text-align: center; font-size: larger; font-weight: bold;"> ADD ADDRESS DETAILS</p>
            </div>

            <div class="row ">
            <div class="col-md-6 form-group mb-3">
                <label>Name:</label>                
                <input id="name"  class="form-control" type="text" name="name" placeholder=" Name">
            </div>

            <div class="col-md-6 form-group mb-3">
                <label>HouseName/Apartment Name</label>                
                <input id="houseName"  class="form-control" type="text" name="houseName" placeholder=" House/Apartment Name">
            </div>
            
            <div class="col-md-6 form-group">
                <label>Street:</label> 
                <input  id="street" class="form-control" type="text" name="street" placeholder="Street">
            </div>


            <div class="col-md-6 form-group  mb-3">
                <label>City:</label>   
                <input id="city" class="form-control" type="text" name="city" placeholder="City">
                </div>

            <div class="col-md-6 form-group">
                <label>State:</label>   
                <input id="state" class="form-control" type="text" name="state" placeholder="State">
            </div>
            
            

            <div class="col-md-6 form-group  mb-3">
                <label>Pincode:</label>   
                <input id="pincode" class="form-control" type="text" name="pincode" placeholder="Pincode">
            </div>
        

        
            <div class="col-md-6 form-group">
                <label>Phone:</label>   
                <input id="phone" class="form-control" type="text" name="phone" placeholder="Phone">
            </div>

            <div class="col-md-6 form-group">
                <label>Alternate Phone:</label>   
                <input id="altPhone" class="form-control" type="text" name="altPhone" placeholder="Alter Phone">
            </div>

                <!-- <div class="col-md-6 form-group">
                <label>City</label>   
                <input class="form-control" type="text" name="City" placeholder="City">
            </div> -->
            </div>
            <div class="col-md-6 form-group  mb-3">
                <button type="submit" class="btn btn-primary">Submit</button>
            </div>
         </div>
        </form>
    </div> 

    </div>
     </div>
    </section>
      <!-- contend end sessioon -->


      <!-- info section -->
    <section class="info_section  layout_padding2-top">
    <div class="social_container">
    <div class="social_box">
        <a href="">
        <i class="fa fa-facebook" aria-hidden="true"></i>
        </a>
        <a href="">
        <i class="fa fa-twitter" aria-hidden="true"></i>
        </a>
        <a href="">
        <i class="fa fa-instagram" aria-hidden="true"></i>
        </a>
    
    </div>
    </div> 
    <div class="info_container ">
    <div class="container">
        <div class="row">
        <div class="col-md-6 col-lg-3">
            <h6>
            ABOUT US
            </h6>
            <p>
            "We specialize in curating thoughtful gifts for every occasion, whether it's birthdays, anniversaries, or just because.
            </p>
        </div>
        <div class="col-md-6 col-lg-3">
            <div class="info_form ">
            <h5>
                Newsletter
            </h5>
            <form action="#">
                <input type="email" placeholder="Enter your email">
                <button>
                Subscribe
                </button>
            </form>
            </div>
        </div>
        <div class="col-md-6 col-lg-3">
            <h6>
            NEED HELP
            </h6>
            <p>
            Track Order
            </p>
            <p></p>
            Return
            </p>
            <p></p>
            Shipping
            </p>
            <p></p>
            FAQs
            </p>
        </div>
        <div class="col-md-6 col-lg-3">
            <h6>
            CONTACT US
            </h6>
            <div class="info_link-box">
            <a href="">
                <i class="fa fa-map-marker" aria-hidden="true"></i>
                <span> Tirur Road, Malappuam,Kerala </span>
            </a>
            <a href="">
                <i class="fa fa-phone" aria-hidden="true"></i>
                <span>++91 8590847332</span>
            </a>
            <a href="">
                <i class="fa fa-envelope" aria-hidden="true"></i>
                <span> vvjy@gmail.com</span>
            </a>
            </div>
        </div>
        </div>
    </div>
    </div> 
    
    <footer class=" footer_section">
    <div class="container">
        <p>
        &copy; <span id="displayYear"></span> All Rights Reserved By
        <a href="#">GIFTOS</a>
        </p>
    </div>
    </footer>
    

    </section>  
      <!-- end info section -->

    <script src="/javascripts/userAddress.js"></script>
    <script src="js/jquery-3.4.1.min.js"></script>
    <script src="js/bootstrap.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js">
    </script>
    <script src="/js/custom.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>


    <script>

            document.addEventListener("DOMContentLoaded", function(event) {
                document.getElementById("list-tab").style.display = "none";
                const currentYear = new Date().getFullYear();
                document.getElementById('displayYear').textContent = currentYear;
            });

            
            document.getElementById('addressForm').addEventListener('submit', function(event) {
                if (!validateForm()) {
                    event.preventDefault();
                }
            });


            function validateForm() {
                let isValid = true;
                const requiredFields = [ "name", "street", "city", "state", "pincode", "phone", "altPhone"];
                requiredFields.forEach(function(field) {
                    const input = document.getElementById(field);
                    const inputValue = input.value.trim();
                    const errorElement = document.getElementById(field + '-error');


                    if (inputValue === "") {
                        if (!errorElement) {
                            const errorMessage = "This field is required.";
                            const errorDiv = document.createElement('div');
                            errorDiv.className = "text-danger";
                            errorDiv.textContent = errorMessage;
                            errorDiv.id = field + '-error';
                            input.parentNode.appendChild(errorDiv);
                        }
                        isValid = false;
                    } else {
                        if (errorElement) {
                            errorElement.remove();
                        }
                    }
                 });


                // const addressType = document.getElementById('addressType').value;
                const name = document.getElementById('name').value;
                const city = document.getElementById('city').value;
                const street = document.getElementById('street').value;
                const state = document.getElementById('state').value;
                const pincode = document.getElementById('pincode').value;
                const phone = document.getElementById('phone').value;
                const altPhone = document.getElementById('altPhone').value;
                const namePattern = /^[A-Za-z\s]+$/;
                const pincodePattern = /^\d{6}$/;
                const phonePattern = /^\d{10}$/;
                if (!namePattern.test(name)) {
                    Swal.fire({
                        title: 'Error',
                        text: 'Name should contain alphabets only.',
                        icon: 'error'
                    });
                    isValid = false;
                }
                if (!namePattern.test(city)) {
                    Swal.fire({
                        title: 'Error',
                        text: 'City should contain alphabets only.',
                        icon: 'error'
                    });
                    isValid = false;
                }
                if (!namePattern.test(street)) {
                    Swal.fire({
                        title: 'Error',
                        text: 'street should contain alphabets only.',
                        icon: 'error'
                    });
                    isValid = false;
                }
                if (!namePattern.test(state)) {
                    Swal.fire({
                        title: 'Error',
                        text: 'State should contain alphabets only.',
                        icon: 'error'
                    });
                    isValid = false;
                }
                if (!pincodePattern.test(pincode)) {
                    Swal.fire({
                        title: 'Error',
                        text: 'Pincode should be a 6-digit number.',
                        icon: 'error'
                    });
                    isValid = false;
                }
                if (!phonePattern.test(phone)) {
                    Swal.fire({
                        title: 'Error',
                        text: 'Phone number should be a 10-digit number.',
                        icon: 'error'
                    });
                    isValid = false;
                }
                if (!phonePattern.test(altPhone)) {
                    Swal.fire({
                        title: 'Error',
                        text: 'Alternate phone number should be a 10-digit number.',
                        icon: 'error'
                    });
                    isValid = false;
                        }
                if (phone === altPhone) {
                    Swal.fire({
                        title: 'Error',
                        text: 'Phone number and alternate phone number should be different.',
                        icon: 'error'
                    });
                    isValid = false;
                }
                return isValid;
            }
    </script>

</body>

</html>


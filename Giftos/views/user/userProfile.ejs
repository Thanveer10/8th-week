<%- include('../partial/user/userProfilePartial.ejs') %>

<style>
  .referral-section {
    text-align: center;
    padding: 20px;
    background-color: #f9f9f9;
    border: 1px solid #ddd;
    border-radius: 10px;
    max-width: 400px;
    margin: 0 auto;
  }

  .referral-code-box {
    margin-top: 10px;
    display: flex;
    justify-content: center;
    gap: 10px;
  }

  #referral-code {
    font-weight: bold;
    font-size: 1.2em;
    background-color: #eef;
    padding: 5px 10px;
    border-radius: 5px;
  }
</style>

<!-- <div class="card mb-4">
             <form action="/userAddress" method="post" name="submission" onsubmit="return userAddress()" oninput="clearform()">
                <div class="card-body mt-3">
                  <div >
                    <p>ADDRESS DETAILS</p>
                  </div>
      
                  <div class="row ">
                    <div class="col-md-6 form-group mb-3">
                     {{!-- <label>Last Name</label> --}}             
                      <input class="form-control" type="text" name="Firstname" placeholder="First Name">
                    </div>
      
                 
                    <div class="col-md-6 form-group">
                      {{!-- <label>Last Name</label> --}}
                      <input class="form-control" type="text" name="Lastname" placeholder="Last Name">
                    </div>
      
        
                    <div class="col-md-6 form-group  mb-3">
                      {{!-- <label>E-mail</label> --}}
                      <input class="form-control" type="text" name="Email" placeholder="E-mail">
                     </div>
      
                    <div class="col-md-6 form-group">
                      {{!-- <label>Mobile No</label> --}}
                      <input class="form-control" type="text" name="Mobilenumber" placeholder="Mobile No">
                    </div>
                   
                  
      
                    <div class="col-md-6 form-group  mb-3">
                      {{!-- <label>Address Line 1</label> --}}
                      <input class="form-control" type="text" name="Address" placeholder="Address">
                    </div>
                
      
                
                    <div class="col-md-6 form-group">
                      {{!-- <label>ZIP Code</label> --}}
                      <input class="form-control" type="text" name="Postcode" placeholder="Post Code">
                    </div>
      
                   <div class="col-md-6 form-group">
                      {{!-- <label>City</label> --}}
                      <input class="form-control" type="text" name="State" placeholder="State">
                    </div>
      
                       <div class="col-md-6 form-group">
                      {{!-- <label>City</label> --}}
                      <input class="form-control" type="text" name="City" placeholder="City">
                    </div>
      
                    <div class="col-md-6 form-group  mb-3">
                     <button type="submit" class="btn btn-primary">UPDATE ADDRESS</button>
                    </div>
      
                  </div>
      
                </div>
                </div> 
                

              </form>
           
            </div> -->
<div class="col-lg-8 offset-lg-3">
<div
  class="card mb-3"
  style="
    border-radius: 0.5rem;
    margin-top: 0;
    box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.3);
  "
>
  <div class="row g-0">
    <div
      class="col-md-4 gradient-custom text-center text-white"
      style="border-top-left-radius: 0.5rem; border-bottom-left-radius: 0.5rem"
    >
      <img
        src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-chat/ava1-bg.webp"
        alt="Avatar"
        class="img-fluid my-5"
        style="width: 80px"
      />
      <h5>Marie Horwitz</h5>
      <button type="button" class="btn btn-primary">
        <a href="/edit-profile" style="color: white; text-decoration: none"
          >Edit Profile</a
        >
      </button>
      <i class="far fa-edit mb-5"></i>
    </div>
    <div class="col-md-8">
      <div class="card-body p-4">
        <h6>Information</h6>
        <hr class="mt-0 mb-4" />
        <div class="row pt-1">
          <div class="col-6 mb-3">
            <h6>Name</h6>
            <p class="text-muted"><%= user.Username %></p>
          </div>
          <div class="col-6 mb-3">
            <h6>Email</h6>
            <p class="text-muted"><%= user.Email %></p>
          </div>
        </div>
        <h6>Contact</h6>
        <hr class="mt-0 mb-4" />
        <div class="row pt-1">
          <div class="col-12 mb-3">
            <h6>Phone</h6>
            <p class="text-muted"><%= user.Mobilenumber %></p>
          </div>
          <!-- <div class="col-6 mb-3">
                          <h6>Most Viewed</h6>
                          <p class="text-muted">Dolor sit amet</p>
                        </div> -->
        </div>

        <div class="d-flex justify-content-start">
          <a href="#!"><i class="fab fa-facebook-f fa-lg me-3"></i></a>
          <a href="#!"><i class="fab fa-twitter fa-lg me-3"></i></a>
          <a href="#!"><i class="fab fa-instagram fa-lg"></i></a>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="referral-section">
  <h3>Invite Friends and Earn Rewards</h3>
  <p>Share your referral code and earn rewards when your friends join!</p>

  <div class="referral-code-box">
    <span id="referral-code"><%= user.ReferralCode %></span>
    <button class="btn btn-primary" onclick="copyReferralCode()">Copy</button>
    <button class="btn btn-primary" onclick="shareReferralCode()">Share</button>
  </div>
</div>
</div>
</div>
</div>
</section>
<!-- contend end sessioon -->

<!-- info section -->

<section class="info_section layout_padding2-top">
  <div class="social_container">
    <div class="social_box">
      <a href="">
        <i class="fa fa-facebook" aria-hidden="true"></i>
      </a>
      <a href="">
        <i class="fa fa-twitter" aria-hidden="true"></i>
      </a>
      <a href="">
        <i class="fa fa-instagram" aria-hidden="true"></i>
      </a>
    </div>
  </div>
  <div class="info_container">
    <div class="container">
      <div class="row">
        <div class="col-md-6 col-lg-3">
          <h6>ABOUT US</h6>
          <p>
            "We specialize in curating thoughtful gifts for every occasion,
            whether it's birthdays, anniversaries, or just because.
          </p>
        </div>
        <div class="col-md-6 col-lg-3">
          <div class="info_form">
            <h5>Newsletter</h5>
            <form action="#">
              <input type="email" placeholder="Enter your email" />
              <button>Subscribe</button>
            </form>
          </div>
        </div>
        <div class="col-md-6 col-lg-3">
          <h6>NEED HELP</h6>
          <p>Track Order</p>
          <p>Return</p>
          <p>Shipping</p>
          <p>FAQs</p>
        </div>
        <div class="col-md-6 col-lg-3">
          <h6>CONTACT US</h6>
          <div class="info_link-box">
            <a href="">
              <i class="fa fa-map-marker" aria-hidden="true"></i>
              <span> Tirur Road, Malappuam,Kerala </span>
            </a>
            <a href="">
              <i class="fa fa-phone" aria-hidden="true"></i>
              <span>++91 8590847332</span>
            </a>
            <a href="">
              <i class="fa fa-envelope" aria-hidden="true"></i>
              <span> vvjy@gmail.com</span>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <footer class="footer_section">
    <div class="container">
      <p>
        &copy; <span id="displayYear"></span> All Rights Reserved By
        <a href="#">GIFTOS</a>
      </p>
    </div>
  </footer>
</section>

<!-- end info section -->

<script src="/javascripts/userAddress.js"></script>
<script src="js/jquery-3.4.1.min.js"></script>
<script src="js/bootstrap.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>
<script src="/js/custom.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script>
  function copyReferralCode() {
    const referralCode = document.getElementById("referral-code").innerText;
    navigator.clipboard.writeText(referralCode).then(() => {
      alert("Referral code copied to clipboard!");
    });
  }

  function shareReferralCode() {
    const referralCode = document.getElementById("referral-code").innerText;
    const shareText = `Join now using my referral code: ${referralCode}`;
    if (navigator.share) {
      navigator
        .share({
          title: "Invite & Earn",
          text: shareText,
          url: window.location.origin, // Share the app's URL
        })
        .catch((err) => console.error("Error sharing:", err));
    } else {
      alert("Sharing not supported. Copy and share manually.");
    }
  }

  const urlParams = new URLSearchParams(window.location.search);
  if (urlParams.has("success") && urlParams.get("success") === "true") {
    Swal.fire({
      icon: "success",
      title: "Success!",
      text: "You have successfully changed your password.",
    });
  }
</script>
